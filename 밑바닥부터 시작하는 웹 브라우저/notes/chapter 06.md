# Chapter 6 개발자 스타일 적용하기

## 이론 학습

### 재귀적 하향식 파서

실습에서 구현하는 CSSParser와 같은 파싱 방법을 공식적으로 LL(1) 언어에 대한 재귀적 하향식 파서라고 부른다. 이 방법을 사용하는 파서는 많은 노력을 기울인다면 정말 빠를 수 있다.(https://simdjson.org). 브라우저에서 파싱이 빠르면 페이지가 더 빨리 로드된다.

## 실습

- CSSParser 클래스 구현
  - CSS 속성을 파싱하는 파서를 구현한다.
  - 공백 문자를 지나가는 whitespace 함수를 구현한다.
  - 프로퍼티 이름을 파싱하는 word 함수를 구현한다.
    - 실습 브라우저에서는 word 함수로 프로퍼티 이름, 숫자, 단위, 색상을 커버하도록 구현한다. 실제 브라우저는 더 복잡한 CSS 구문에 대응해야 한다.
  - ":"과 같은 구분자 확인을 위해 literal 함수를 구현한다.
  - word, whitespace, literal 함수를 이용해 프로퍼티-값 쌍을 파싱하는 pair 함수를 구현한다.
  - 루프를 통해 프로퍼티-값 쌍의 시퀀스를 파싱하는 body 함수를 구현한다.
  - 오류 처리에 대한 대응을 위해 파싱할 수 없는 프로퍼티-값 쌍을 건너띄는 ignore_until 함수를 구현한다.
    - 프로퍼티-값 쌍 시퀀스를 파싱할 때 예외가 발생한다면 ignore_until 함수를 사용해서 다음 속성으로 건너뛴다.
    - 실습 코드에서처럼 포괄적인 예외 처리는 코드 레벨에서는 스멜이지만, 브라우저는 모든 웹페이지를 동작할 수 있게 하는 것을 우선한다.