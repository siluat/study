# Chapter 3 텍스트 포맷팅하기

## 이론 학습

### 텍스트 측정하기

- tk 폰트 객체의 metrics와 measure 메서드를 이용해 텍스트가 차지하는 가로세로 공간을 측정할 수 있다. 이 정보를 사용하여 페이지에 텍스트를 배치할 수 있다.

![text-metric](./assets/text-metrics.png)

### 하이픈 연결

단어 중간에 줄을 끊는 것을 하이픈 연결이라고 한다. hyphens CSS 속성을 통해 설정할 수 있다. 이를 구현하는 가장 최신 기술은 커누스 리앙 하이픈 연결 알고리즘(http://www.tug.org/docs/liang/liang-thesis.pdf)으로 단어 조각 사전을 사용하여 하이픈 연결이 가능한 지점의 우선순위를 정한다. 처음에는 CSS 스펙 문서가 이 알고리즘과 호환되지 않았지만(https://news.ycombinator.com/item?id=19482922), 지금은 text-wrap-style 속성에서 이 문제가 해결되어 있다.

## 실습

- layout 함수 구현 변경
  - 영어와 같이 단어 중간에 다음 줄로 이동할 수 없는 텍스트를 처리하기 위해 글자 단위 배치를 단어 단위 배치로 변경한다.
  - 폰트 객체의 메서드를 이용해 단어의 크기를 측정하고 위치를 계산해서 배치한다.
  - 실습 구현에서는 화이트스페이스로 단어를 분할한다. 단어 사이에 공백이 없는 중국어에서는 문제가 생긴다. 실제 브라우저는 단어 경계를 식별하는 목적을 포함하여 텍스트 레이아웃을 위해 언어마다 다른 규칙을 적용한다.
